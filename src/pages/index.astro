---
import '../styles/style.css'
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Contacto from '../components/Contacto.astro';
import CookiePolicy from '../components/CookiePolicy.astro';
import Productos from '../components/Productos.astro';

const links = [['#home', 'Inicio'],
              ['#products', 'Productos'],
			  ['#about', 'Sobre Nosotros'],
			  ['#contact','Contacto']]

const productos =[["/src/images/product1.webp","Tecla Enter Catártica","19.99€",
                 "Descripción detallada del producto 1. Producto altamente golpeable."],
                
                 ["/src/images/product2.webp","GameBoy para el prepuber vitalicio","39.99€",
                 "Gameboy com MAME de 128bits incorporado a la ROM"],
                 
                 ["/src/images/product3.webp","Smartwatch Cuqui","59.99€",
                 "Compatible con DOS 6.1 y Haiku OS"],
                 ]
---


<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="B2B de eletrónica. Un sitio pensado para gente que busca artículos de electrónica recomendados 
    por influencers y youtubers asociados con el tema.">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Tienda Online</title>

</head>


<body>
    
    <CookiePolicy />

    <Header links{links}/>
    <main>
        <section id="home">
            <h2>Bienvenidos a Nuestra Tienda</h2>
            <p>Los mejores productos al mejor precio.</p>
        </section>

        <section id="products">
            <h2>Productos Destacados</h2>            
             <Productos datos={productos} />
        </section>
        <section id="about">
            <h2>Sobre Nosotros</h2>
            <p>Somos una tienda online dedicada a ofrecer los mejores productos para nuestros clientes. Con años de
                experiencia en el sector, nos enorgullece ofrecer una experiencia de compra única.</p>
        </section>
        <!-- <section id="contact">
            <h2>Contacto</h2>
            <form id="contactForm">
                <label for="name">Nombre:</label>
                <input type="text" id="name" name="name" required>
                <label for="email">Correo electrónico:</label>
                <input type="email" id="email" name="email" required>
                <label for="message">Mensaje:</label>
                <textarea id="message" name="message" required></textarea>
                <button type="submit">Enviar</button>
            </form>
        </section> -->

        <Contacto />
    </main>
    <Footer>

    <script>
    // Function to show the cookie banner
    function showCookieBanner() {
        console.log('showCookieBanner function called');
        const cookieBanner = document.getElementById('cookieBanner');
        const overlay = document.getElementById('overlay');
        if (cookieBanner && overlay) {
            cookieBanner.style.display = 'block';
            overlay.style.display = 'block';
        } else {
            console.error('Cookie banner or overlay element not found');
        }
    }

    // Function to hide the cookie banner
    function acceptCookies() {
        console.log('acceptCookies function called');
        const cookieBanner = document.getElementById('cookieBanner');
        const overlay = document.getElementById('overlay');
        if (cookieBanner && overlay) {
            cookieBanner.style.display = 'none';
            overlay.style.display = 'none';
            localStorage.setItem('cookiesAccepted', 'true');
        } else {
            console.error('Cookie banner or overlay element not found');
        }
    }

    // Function to check if cookies have been accepted
    function checkCookiesAcceptance() {
        console.log('checkCookiesAcceptance function called');
        const cookiesAccepted = localStorage.getItem('cookiesAccepted');
        if (!cookiesAccepted) {
            showCookieBanner();
        }
    }

    // Add event listener to the button
    document.addEventListener('DOMContentLoaded', function() {
        const button = document.getElementById('acceptCookiesButton');
        if (button) {
            button.addEventListener('click', acceptCookies);
        } else {
            console.error('Accept cookies button not found');
        }

        // Run the check when the page loads
        checkCookiesAcceptance();

        // Validación y envío del formulario de contacto
    document.getElementById('contactForm').addEventListener('submit', function (event) {
    event.preventDefault(); // Previene el envío del formulario
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const message = document.getElementById('message').value;

    if (name && email && message) {
        // Aquí iría el código para enviar el formulario al servidor
        alert('Formulario enviado con éxito');
    } else {
        alert('Por favor, rellene todos los campos');
    }
});
    });
</script>



</body>

</html>